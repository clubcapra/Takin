<!--
See http://wiki.ros.org/navigation/Tutorials/RobotSetup for info on
how to setup navigation stack
-->
<launch>

    <!-- Publish static transform from map to robot's odom (zero transformation) -->
    <node   pkg="tf"
            type="static_transform_publisher"
            name="map_broadcaster"
            args="0 0 0 0 0 0 odom map 50" />

    <!-- Set the path for all the simulation worlds, so Gazebo will find them -->
    <env name="GAZEBO_RESOURCE_PATH" value="$(find capra_simulation)/worlds" />

    <!-- launch Gazebo and set the world we want to open -->
    <include file="$(find capra_simulation)/launch/Gazebo.launch">
       <arg name="world_name" value="random.world" />
       <arg     name="robot_description"
                value="$(find capra_simulation)/models/urdf/capra_robot.urdf" />
    </include>

    <include file="$(find capra_navigation)/launch/capra_configuration.launch">
        <arg    name="robot_description"
                value="$(find capra_simulation)/models/urdf/capra_robot.urdf" />
    </include>

    <include file="$(find capra_navigation)/launch/move_base.launch">
        <!-- include args here if necessary -->
    </include>

    <!-- Start rviz with desired display -->
    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find capra_simulation)/rviz/base.rviz" />

</launch>